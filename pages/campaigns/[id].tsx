import type { NextPage } from 'next'
import {useState} from "react"
import Head from 'next/head'
import { useRouter } from "next/router";
import {useEffect} from "react"
import Axios from 'axios'
import CampaignMenu from '../../components/CampaignMenu';



const Campaign: NextPage = () => {
  const router = useRouter();
  const { id } = router.query;
  const [campaign, setCampaign] = useState(null);

  useEffect(() => {
    async function getCampaign() {
      const data = await Axios.post(`/api/campaigns/get`, {
        campaign_name: id
      });
      console.log(data.data);
      setCampaign(data.data);
    }
    getCampaign();
  }, []);

  return (
    <div style={{minHeight: "100vh"}}>
      <Head>
        <title>Ember | SSGM</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <CampaignMenu campaign={campaign}/>
    </div>
  )
}

export default Campaign